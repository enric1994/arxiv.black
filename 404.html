<!DOCTYPE html>
<html>

<head>
    <link rel="icon"
        href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/new-moon-face_1f31a.png" />
    <title>arxiv.black by Enric Moreu</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>

    <style>
        html,
        body {
            height: 100%;
            background-color: white;
        }

        div {
            height: 99%;
        }

        object {
            width: 100%;
            min-height: 100%;
        }
    </style>

    <!-- Credit -->
    <p style="text-align: center;">
        <a target="_blank" style="font-weight: bold; text-decoration:none; color:black;" href="https://arxiv.black">
            arxiv.black
        </a>
        by <a target="_blank" style="font-weight: bold; text-decoration:none; color:grey;" href="https://enricmor.eu">
            Enric Moreu
        </a></p>

    <!-- Get Page from Arxiv -->
    <div id="page"></div>
    <script>

        // Get the actual Arxiv page
        if (window.location.href.includes('/abs')) {
            var target = window.location.href.replace('.black', '.org').replace('/abs', '/pdf') + '.pdf'
        } else {
            var target = window.location.href.replace('.black', '.org')
        }
        
        // Load Arxix page
        $("#page").html('<object type="application/pdf" data="' + target + '">');

        // Dark mode stuff
        var cover = document.createElement("div");
        let css = `
			position: fixed;
			pointer-events: none;
			top: 0;
			left: 0;
			width: 100vw;
			height: 100vh;
			background-color: white;
			mix-blend-mode: difference;
			z-index: 1;
		`
        cover.setAttribute("style", css);
        document.body.appendChild(cover);

        // Not working on smartphones alert
        window.onload = function () {
            var mobile = (/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()));
            if (mobile) {
                alert("Not working on the phone sorry!");
            } else {

            }
        }

    </script>
</body>

</html>